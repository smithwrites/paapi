{
  "containerDefinitions": [{
    "name": "paapi",
    "image": "paapi/staging:latest",
    "command": ["bundle", "exec", "rails", "db:migrate"],
    "memory": 300,
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "paapi-db-migrate-staging",
        "awslogs-region": "eu-west-2",
        "awslogs-stream-prefix": "db_migrate"
      }
    },
    "environment": [{
        "name": "RAILS_ENV",
        "value": "production"
      },
      {
        "name": "RACK_ENV",
        "value": "production"
      },
      {
        "name": "PORT",
        "value": "3000"
      },
      {
        "name": "RAILS_LOG_TO_STDOUT",
        "value": "true"
      },
      {
        "name": "RAILS_SERVE_STATIC_FILES",
        "value": "true"
      }
    ],
    "secrets": [{
        "name": "SECRET_KEY_BASE",
        "valueFrom": "arn:aws:ssm:eu-west-2:281215255144:parameter/paapi/staging/SECRET_KEY_BASE"
      },
      {
        "name": "DATABASE_URL",
        "valueFrom": "arn:aws:ssm:eu-west-2:281215255144:parameter/paapi/staging/DATABASE_URL"
      }
    ]
  }],
  "executionRoleArn": "paapi-ecs-task-execution-staging",
  "taskRoleArn": "paapi-ecs-task-staging",
  "family": "paapi-db-migrate-staging",
  "requiresCompatibilities": [
    "FARGATE"
  ],
  "networkMode": "awsvpc",
  "cpu": "256",
  "memory": "512"
}
